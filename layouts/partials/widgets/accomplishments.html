{{/* Accomplishments Widget */}}

{{/* Initialise */}}
{{ $page := .root }}
{{ $columns := $page.Params.design.columns | default "2" }}

{{/* Display content */}}
<div class="col-12 {{if eq $columns "2"}}col-lg-8{{end}}">
  {{ with $page.Content }}{{ . }}{{ end }}

  {{ if $page.Params.item }}
  {{ range $idx, $key := sort $page.Params.item ".date_start" "desc" }}
    <div class="card experience course">
      <div class="card-body">
        {{- with .icon -}}
          {{/* 아이콘 이미지 추가 */}}
          <div class="d-flex align-items-center">
            <img src="/media/icons/brands/{{ . }}" class="accomplishment-icon mr-3" alt="{{ $.organization }}" style="max-width: 56px; height: auto;">
        {{- end -}}
        <div>
          {{- with .url -}}<a href="{{ . }}" target="_blank" rel="noopener">{{- end -}}
          <h4 class="card-title exp-title text-muted my-0">{{ .title | markdownify | emojify }}</h4>
          {{- with .url -}}</a>{{- end -}}

          <div class="card-subtitle my-0 article-metadata">
            {{- with .organization_url}}<a href="{{.}}" target="_blank" rel="noopener">{{end -}}
            {{- .organization | markdownify | emojify -}}
            {{- with .organization_url}}</a>{{end -}}

            <span class="middot-divider"></span>

            {{ (time .date_start) | time.Format ($page.Params.date_format | default "January 2006") }}
            {{ if .date_end}}
            – {{ (time .date_end) | time.Format ($page.Params.date_format | default "January 2006") }}
            {{end}}
          </div>
        </div>
        {{- with .icon -}}
          </div>
        {{- end -}}
        {{with .description}}
          <div class="card-text">{{. | markdownify | emojify}}</div>
        {{end}}
      </div>
    </div>
  {{end}}
  {{end}}
</div>