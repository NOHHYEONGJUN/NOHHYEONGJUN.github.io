{{ $items := where site.RegularPages "Type" "project" }}

<table style="width:100%; border-collapse: separate; border-spacing: 0 20px;">
  {{ range $index, $item := $items }}
    {{ if modBool $index 3 }}
      <tr>
    {{ end }}
    <td style="width:33.33%; padding: 10px; vertical-align: top; border: 1px solid #ddd; border-radius: 8px;">
      <div>
        {{ with $item.Params.image }}
          <img src="{{ . | relURL }}" alt="{{ $item.Title }}" style="width:100%; height:200px; object-fit:cover; border-radius: 8px 8px 0 0;">
        {{ end }}
        <h3 style="margin: 10px 0; font-size: 1.2em;">{{ $item.Title }}</h3>
        {{ with $item.Params.summary }}
          <p style="font-size: 0.9em; color: #666;">{{ . | markdownify | emojify }}</p>
        {{ end }}
        <div style="margin-top: 10px;">
          {{ range $item.Params.tags }}
            <span style="display: inline-block; background-color: #f0f0f0; padding: 2px 5px; margin-right: 5px; border-radius: 3px; font-size: 0.8em;">{{ . }}</span>
          {{ end }}
        </div>
        <a href="{{ $item.RelPermalink }}" style="display: inline-block; margin-top: 10px; padding: 5px 10px; background-color: #007bff; color: white; text-decoration: none; border-radius: 4px;">자세히 보기</a>
      </div>
    </td>
    {{ if modBool (add $index 1) 3 }}
      </tr>
    {{ end }}
  {{ end }}
</table>